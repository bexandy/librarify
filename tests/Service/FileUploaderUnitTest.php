<?php

namespace App\Tests\Service;

use App\Service\FileUploader;
use PHPUnit\Framework\TestCase;
use League\Flysystem\FilesystemOperator;
use PHPUnit\Framework\MockObject\MockObject;

/**
 * 
 */
class FileUploaderUnitTest extends TestCase
{
	
	public function testSuccessUploadBase64File()
	{
		$base64Image = "data:image/jpeg;base64,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";

		$data = explode(',', $base64Image);

		/**
		 * @var FilesystemOperator&MockObjet $defaultStorage
		 */ 
		$defaultStorage = $this->getMockBuilder(FilesystemOperator::class)
								->disableOriginalConstructor()
								->getMock();

		$defaultStorage
			->expects(self::exactly(1))
			->method('write')
			->with($this->isType('string'), base64_decode($data[1]));

		$fileuploader = new FileUploader($defaultStorage);
		$fileName = $fileuploader->uploadBase64File($base64Image);
		$this->assertNotEmpty($fileName);
		$this->assertStringContainsString('.jpeg', $fileName);
	}
}